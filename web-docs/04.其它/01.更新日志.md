---
title: "2.x版本更新日志"
date: "2022-01-29T21:11:00.000Z"
permalink: "/pages/changelog/v2/"
---
# [v2.2.2] 2025.06.06

 * 修复单表API主键强制String类型的问题
 * 修复打印SQL日志时出现的空指针异常
 * 优化保存接口，传输时加密，避免被拦截
 * 兼容SpringDoc 2.8
 * 优化代码提示


# [v2.2.1] 2025.05.19

 * 修复db模块批量操作不走拦截器的问题
 * 修复在修改时createTime被置空的问题
 * 修复调用存储过程时无法传参的问题
 * 修复在优化order by时某些情况优化出错的问题
 * 修复自定义鉴权登录时，只能使用extends DefaultAuthorizationInterceptor的问题
 * 修复复制出的接口无法删除的问题
 * 修复下拉框内容过多被遮挡的问题
 * 修复在{}代码块中，如果连接的字符串包括"{","}"，则会报错
 * 修复定义byte类型0b时报强转错误的问题
 * 修复脚本-(-1)的结果不正确的问题


# [v2.2.0] 2025.05.05

 * 兼容Spring Boot 3.4
 * 新增nebula模块
 * 修复SpringBoot项目配置server.servlet.context-path时，Swagger访问资源404的问题
 * db模块增加基于jdbc的存储过程调用方法call
 * db模块中的<foreach>中的open、close、separator添加默认值 I6S2NN
 * http模块添加expectString方法，避免返回字符串时反序列化报错
 * 修复在导出时，如果配置的magic-api.resource.prefix为/，则导出的内容无法导入 PR87
 * 优化内部接口注册逻辑，指定Method方法 PR88
 * 修复db.page方法请求page参数为0报错的问题
 * 修复主键为字符情况Data truncation失败问题 PR113
 * 修复MagicEntity.getId()" because "entity" is null异常 PR89
 * 接口选项增加一些默认的权限选项：ROLE_VISIBLE、PERMISSION_VISIBLE PR71
 * 修复接入erupt时requiredLogin定义为false不会触发getUserByToken方法 PR71
 * 解决DefaultAuthorizationInterceptor下关闭授权报错的问题 PR71
 * 修复截取is方法 作为属性名时，截取长度不正确的问题 PR13
 * 修复编辑器在下载资源后，切换任意tab后会出错的问题
 * 修复编辑器复制出的资源无法删除的问题
 * 优化编辑器，移动分组时添加确认操作


# [v2.1.1] 2023.05.11

 * 新增原生Servlet获取接口
 * 修复登录出错时UI不显示错误信息的问题
 * 修复在Spring Boot 2.x下与Spring Boot Data不兼容的问题
 * 修复无法定义十六进制数值的问题
 * 增强集群插件兼容性
 * 增强导出文件的兼容性，解决某些情况导出的文件格式不正确的问题
 * 优化前端JSON解析，解决返回大量数据时卡顿的问题


# [v2.1.0] 2023.04.08

 * 兼容SpringBoot3.x、SpringBoot2.x
 * 新增Springdoc插件（仅支持SpringBoot3.x版本），2.x版本请用Swagger插件
 * 新增支持token有效期设置和续期
 * 新增前端两套新皮肤
 * 修复在oracle存储表数据时，前端修改接口名称会出现同名保存不上的异常 PR52
 * 新增db操作模块count接口 PR55
 * 新增对Gitlab通过令牌推送的支持 PR58
 * 新增支持es jdbc PR60
 * 新增禁止验证RequestBody的接口选项
 * 新增magic-api.task.log开关，用于控制定时任务插件是否打印日志
 * 修复Redis模块不支持Redisson部分命令的问题
 * 修复数据类型byte short边界和运算问题 I6EGAL
 * 修复定时任务注册失败时无法再次保存的问题 I5RZRF
 * 优化接口保存逻辑，取消RequestBody、ResponseBody的结构自动刷新。
 * 优化代码提示，支持JDK11+
 * 文档完善


# [v2.0.2] 2022.08.29

 * 新增impala方言支持 PR53
 * 新增ObjectId函数 I5LYAN
 * 修复mongo模块缺少database、collection等方法的BUG
 * 修复try-catch-finally+return和java表现不一致的问题 PR7
 * 修复编译缓存并未将编译class进行缓存，导致非堆内存持续增长的问题 I59M25 PR6
 * 修复单表API中order by和group by一起使用时，SQL语句拼接错误的问题 PR48
 * 修复magic.execute方法可能出现的空指针的问题
 * 修复LINQ返回列名可能不正确的问题 PR2
 * 修复字符串转字节数组的时候指定UTF-8编码 PR49
 * 修复LocalDateTime数据类型使用asDate方法返回值为null的问题 PR3
 * 修复新增分组时前端报错的问题
 * 修复拦截器在某些情况不会进入afterCompletion方法的问题 I5LCLP
 * 优化分页查询拼接SQL，兼容语句注释 PR51


# [v2.0.1] 2022.04.10

 * 修复分组缺失创建人、创建时间等信息的问题
 * 修复接口选项设置默认数据源失效的问题
 * 修复MagicAPIService.execute/call方法需要携带magic-api.prefix的问题
 * 修复备份还原提示的错误、以及还原后未刷新的问题
 * 修复新建分组后无法添加分组选项/分组路径的问题
 * 修复日志折叠后显示行数不正确的问题
 * 修复集群下接口可能不同步的BUG
 * 优化错误的函数命名，precent改为percent
 * 优化错误提示、语法错误提示
 * 优化加载速度、修复代码提示重复导包的问题
 * 优化插件机制，支持自定义右键菜单
 * 升级Vue、Vite版本至最新版本


# [v2.0.0] 2022.03.14

 * 新增mybatis语法<elseif>、<else>、<foreach>新增index参数
 * 新增RequestBody参数类型Date、Any
 * 修复复制的接口无法删除的问题
 * 修复定时任务插件中定时任务描述无法保存的问题
 * 修复没有历史记录时，提示不正确的问题
 * 修复编辑器字体、字体大小配置无效的问题
 * 修复import其它接口时需要携带magic-api.prefix的问题
 * 优化找不到模块、函数时的错误提示
 * 优化Swagger插件，减少无影响的异常日志
 * 优化WebSocket链接，缓解linux下链接可能超时的问题
 * 优化单表API中insert接口，在驱动不支持返回主键时返回设定的主键值。
 * 优化返回结构解析，保持原样输出
 * 优化UI细节，切换tab时，记住滚动条位置、优化左右下三处面板的可拖动范围


# [v2.0.0-beta.3] 2022.03.09

 * 新增db.deleteCache方法，用于删除SQL缓存
 * 新增最大页码限制 magic-api.page.max-page-size
 * 新增单个接口的历史记录查看、对比、还原
 * 修复在有AOP时模块注册失败的问题
 * 修复无法new HashMap()的BUG
 * 修复修改分组时缺少必要的验证的问题
 * 修复无法上传单个分组的问题
 * 修复上传时接口冲突检测未区分请求方法的问题
 * 修复多重try catch执行顺序不对的BUG
 * 修复调用Java方法时，由于方法重载可能调用到错误的方法的BUG #I4WMMS
 * 优化全局搜索，支持切换/显示图标
 * 优化配置magic-api.security-config改为magic-api.security
 * 优化UI、增强对插件的支持


# [v2.0.0-beta.2] 2022.03.02

 * 新增git插件，支持将接口配置等信息存储到git中
 * 修复不兼容Spring Boot 2.6.0+的问题
 * 修复前端不显示后台定义数据源的问题
 * 修复magic-api.persistence-response-body配置无效的问题
 * 修复requestBody视图中的默认值不显示的问题
 * 修复用户在线状态会自动掉线的问题
 * 修复接口注册时少拼接了前缀的问题
 * 修复标题配置无效的问题
 * 修复动态属性不支持db[xx]调用方式的问题


# [v2.0.0-beta.1] 2022.02.28

 * 前端使用Vue3重写，后端重构
 * 重构备份机制，支持自动全量备份以及从全量备份中还原
 * 新增i18n国际化支持
 * 新增支持前端插件开发&后端插件开发
 * 新增ElasticSearch插件&模块
 * 新增定时任务插件&模块
 * 新增在线人数显示、以及他人正在编辑和浏览的接口

UI变动：

 * 优化Debug、历史记录、导出、推送等窗口
 * 接口选项移动至接口信息中，不再单独显示
 * 新增单独的登录页
 * 配置调整，支持编辑器全部配置。

模块变动：

 * db模块 新增批量插入方法
 * http模块 新增head、options、trace、patch请求方法
 * response模块 text、redirect 方法
 * request模块 新增getClientIP方法，用于获取客户端IP地址
 * 移除assert模块

脚本变动：

 * 新增支持instanceof语法
 * 新增支持动态属性扩展
 * 新增支持解构语法
 * 模块写法调整，由实现接口改为注解
 * Linq中的and、or不在区分大小写

BUG修复：

 * 修复linq执行结果与预期不一致的BUG
 * 修复正则前不能使用!运算符的问题。
 * 修复Redis模块的hgetall命令返回结果不正确的问题